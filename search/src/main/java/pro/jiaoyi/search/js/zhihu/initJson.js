
// 2719
var qids =["443290123","601399026","421412615","35552594","414672059","412838397","337820800","321480407","421502300","545645060","557594317","370272816","381280661","422482570","39386137","310330936","266316329","477307787","328986975","321734982","321770688","555875274","416378246","475370325","475616880","62957260","512233862","341221352","20846295","498229445","513631964","432810852","339123648","50968807","328686513","411304233","585325079","332025303","336009888","24794756","282073893","37040698","296840150","446279320","24423104","279105007","455418141","35214411","61872508","49228357","369703065","54047296","396732930","385079559","274247380","41850206","31219680","388243041","22827445","21429520","522057996","477026989","315021728","283314459","582652059","376747902","464928124","544400828","567996939","447969848","323149065","57493330","334398715","590233229","580450025","63890766","310347049","516000388","331323972","28147308","336322284","40315963","431407626","456663732","528337257","439821840","41724658","498596652","492922750","20790209","489508431","601968188","384261894","23509564","29270557","451365862","371837188","274438312","31785696","440407337","458534855","602052926","516917343","263430580","35645665","26114037","419519935","263982820","531419006","504547244","290480546","459952928","23531933","543292205","358254971","600177625","31965065","524886847","478019108","542408507","574086845","32755919","28968080","490881786","320065759","388736635","292823044","29961105","604296433","279958604","268013397","370722242","57358510","477556103","379886559","428062767","23054911","42968155","64415450","436748383","290193053","22747964","391362343","372919499","60699050","430310364","27457966","514745299","292926975","311602814","67430974","48452227","480217168","578754227","42016630","387101212","471606343","312479221","293586926","467035847","35904312","26346647","322840788","30969686","423350755","431037603","364277675","274586141","523769470","453653052","61707376","387987975","59242251","465531266","40007169","310817806","608690121","340318665","56766597","354861510","274492648","63218569","268171156","19760947","286948177","307449704","348409933","437927862","376929495","277559293","58897556","35558370","404239327","390543932","477633071","448332058","531214312","366747466","266002598","524823264","574595251","478309024","55186463","354490136","20143086","458193805","499536826","498492802","490908452","436528640","431595040","45226117","453864426","452338696","280855161","21722005","263357090","474869129","329111822","537025522","482637688","24112740","323748497","344284879","35967402","46456670","494592156","517799456","66043641","345478198","441824794","585761303","432202454","516401671","580685675","389858208","39400471","20874351","452255074","20235357","528591948","263990101","497739011","466029479","55986597","477590545","379991815","264219742","28101677","283965856","24361755","32240540","591054449","381875525","40786692","66075022","572055590","19921857","49028916","438205662","37838186","291448530","462094640","38284567","434958411","441136337","414718798","278084917","21917763","589729981","367407874","446927710","593366579","474793846","458633275","283457570","348765698","22205024","324735226","59199218","412489204","267176014","322662759","382236992","466011184","434811691","349167139","547512380","379529421","340858394","319917993","536997331","27206297","420061640","23735129","348232378","523395893","540389409","385686823","41283489","67950475","487198144","315140178","277778327","383945452","351774838","41110104","485671595","55078788","461061718","30691650","29125535","597417397","607994324","30994458","22839405","24160819","55773317","294948054","460230350","319752961","65918651","270120591","363414992","21133576","291148163","501849996","441614349","29808990","26157207","533911845","381118302","550516850","19580414","65912637","450559374","510721924","64269682","385410795","60836420","271290200","266431801","38604548","393869233","26240900","22159864","337189145","299182919","369142881","526672058","348038808","374532151","27479936","579815231","35807366","579923538","335053903","379797256","40735484","384846285","289666349","478943111","23897474","21066898","589729970","28259557","437303141","62168264","595094770","287062389","585692350","266426363","617737823","359069458","292382327","39315149","521746142","269672399","21734001","583754319","545972729","484107229","320688057","25388468","395242912","49463888","353273621","335316938","478532335","377085993","436874654","605107000","305160939","326112597","443177598","462512893","403190602","36993324","53621607","470817084","343036720","54479722","545218127","318607747","322005879","444582696","42802699","31127495","27635907","460469039","50724540","461369766","59591957","418447024","68043660","512910787","65231418","21333921","51664807","267090250","343355902","296962444","376306312","389104053","45222940","432264409","422805752","422657956","482414477","439425235","57262433","379191141","39022858","460463913","51195225","67074085","53900262","376134482","304580407","64073160","471814200","534266760","442825633","294692727","395064468","368141628","435869812","59448723","31313606","424857078","268605440","383910406","382669565","27087151","36410973","538378122","423269551","499667116","304809049","36255080","38864008","402468297","504546881","60596787","64421329","480064600","596863538","27448256","46690327","366633099","608092158","455107544","550075698","412524633","568334244","559064601","402862090","385786644","22028029","264552572","519462220","24599690","300288948","65651443","332076126","280583368","596947936","272036288","36210795","51067873","554393503","425923831","353600164","46844000","505858429","313420359","29275154","326621814","410346947","575533396","450630643","32722867","460979499","511348622","47130245","388280409","36387953","470367216","273688723","491905174","340505767","462941456","57184481","580861656","455008783","546592998","536810523","308741059","20833635","19735063","448279382","31145104","356062984","404716998","64178582","388346057","54546570","303060937","321937805","451695572","353907527","19728488","406686881","23978735","443774107","355848597","372936313","407927126","65630198","288392133","418658699","283041087","409513352","350248961","323249155","268852970","576970119","372206245","538818478","265099992","387069044","294643275","26660923","30529226","585565693","493364990","453576239","20562948","28870460","356669987","613045469","329345653","36737235","63478535","570239939","468302499","288058472","445171544","370676694","26666248","361767060","19556855","334398477","21821730","288828316","382784435","509231806","443638061","67036267","393586202","506196880","446738560","281922598","323536778","325652544","67930308","479142831","396131812","515220797","309292366","360400273","460317308","27898928","19839754","60549781","34638451","31118223","24466447","379560255","362583243","543665907","437763630","412132055","530892401","439882906","50840813","410535427","498064410","27344309","325485051","30458152","319300811","426305809","33277584","22322369","509931873","29395461","407430861","29645568","274554905","319059045","498248397","520126198","383909772","443211377","399817919","528024914","51067572","63451616","526660218","59254186","474726443","372595122","29020285","460794233","505572227","19888506","510349122","331632608","20598844","320644822","19868861","68374684","46229377","367110964","485975842","437229177","442595026","264731319","322639883","435914441","27668413","27797218","527723101","301999320","444812828","266772763","504483845","26917086","477459733","48309539","576299958","381306254","359064267","540937792","65141672","36479507","338195759","62942482","578383078","603443893","551493446","421400730","532785128","24953818","579805196","25259369","21710905","274652397","499786260","332857372","435831351","565251699","351451341","414845164","437474126","494147637","291127871","440947903","397209142","445044332","479920228","60920567","366762786","522451813","570939530","391832868","38141420","420736408","20573607","322268900","264019594","28167599","442229561","20837008","571210507","401972343","334017071","28603005","59626333","20520917","446494907","425121834","385622269","19667782","472674677","436088639","555137372","511390983","28839613","368831543","333168076","31584353","542185329","404208412","552694773","569536063","336854160","584685948","378868564","395810913","372478431","39759555","361055571","491117043","20658021","483836814","432238082","34901155","295557958","529209818","329800849","353248023","343096806","59078666","53034913","48914577","479864912","519762587","549163718","602553138","347568746","23897171","366511995","444942097","465210034","358529494","545288724","307883368","47852000","27588373","579545643","511007312","578768160","460198740","26022808","27664208","396564969","448889875","485572296","20363326","412556664","601071562","339684620","35635039","382549658","31480926","565209889","312146110","27949283","454361471","54900544","498317883","25547062","306019010","27283467","582130016","418156104","605098353","582433361","40896860","265293791","405032491","31269826","463471719","386985792","309815770","386132438","519685526","280686956","405515264","24667240","328393874","540246252","268727792","265365571","67336160","313736016","34968347","22006581","481498057","348861267","27619886","435895021","20854616","57150288","321449561","316813837","431064479","293151624","407826786","454118480","60567385","305358780","52474292","438890320","329726052","490797895","31235178","35354338","500752811","392683523","426732999","66068520","480265121","290580390","597832170","384835095","23515987","20498284","386433942","35570875","22571616","548116801","299087802","506298339","37447314","477049717","384873330","566255474","347255113","449843813","601900896","525871086","450223988","20558314","41587198","445868556","492254779","292397925","445355853","386086715","347811760","412230204","469026990","65824852","546081810","20062445","27928279","453573225","437797421","536168524","476477263","31588406","312719440","598798313","34946694","68475031","478225315","368644434","301981018","295879716","365529030","52657620","33602523","58878836","24115423","602768312","576562772","557634981","28590537","39152023","27070422","33310608","562953362","329918314","406482824","462637655","504548004","433997921","25312138","438842678","538626163","479089359","264592804","391222001","367728483","559397768","443149062","599173782","30949468","572261167","323996333","437153174","324791506","551871564","283303767","21416759","469034005","394431521","515714576","30818567","455358064","499548876","460441961","402640690","36070862","419620227","280311444","513814914","276130289","25047902","398952710","64219158","36508758","21751850","509672053","465178380","35408084","449966696","268724189","51091465","345543108","489496108","588163425","523112333","493059768","393138588","450364834","34243513","461441601","401862466","318460041","322687635","19991243","337853063","342717784","20462159","267993530","282027840","38711010","376141604","452580026","64997897","398594911","31489083","483449975","530451797","468463260","268903644","498116718","37357133","414248233","499273059","294901726","21163437","283475887","469696443","578256937","25512253","27860440","400810309","22181983","472696348","52052417","45251204","51572803","386234470","358439400","66109254","21661845","23780584","459867620","412044784","40897908","41245766","565873655","414890120","49383183","606764922","578611911","459271420","22152638","28039822","308998397","423315796","371929669","24198526","292127667","569746657","39669286","20579464","442060606","359347177","340773796","530388956","67953554","267304861","451713888","476581162","23149639","515627610","268248915","355560585","340262902","42702094","361471558","60861236","568173522","350265275","509069160","482286727","288694371","460095122","467936994","442543926","544093067","425071526","45793985","280416826","34348153","36533969","582184298","543087742","24744812","289985122","21728466","67621105","522028275","372684673","293404788","433913521","23515625","552056435","357348181","27946261","49091450","541050169","394544466","268982964","271568353","52155996","335574559","298410862","514631929","29203245","331643391","48790653","286181822","374758016","319035949","23979990","457795798","409930456","27193825","61391704","460149430","573460602","525657148","389323571","519629415","317200187","336700144","29166546","364233088","509056597","434663876","431581471","526935045","279561243","298666201","362125942","518235522","467835105","344411807","481385328","406746540","22190325","353369324","52031158","309134680","23704461","29511196","20386663","462592736","297661212","546999456","30085512","54647592","342427060","583137394","396292127","41318061","68295973","482310086","466302067","468385107","444553772","421561872","483595850","455215481","472118040","60539899","479531888","491108498","409195048","55483980","499995350","269181449","360732975","544643644","266099979","435660651","529805595","454726163","488153803","64934830","20622705","41032931","513778487","377623077","31641051","52207603","485014066","48353094","502316781","390873287","38901721","589835749","393586457","351835904","511914798","490157741","32196460","508831545","543985354","304239550","59025491","21092073","51682460","265765753","323145208","311964666","30394677","567225980","35154130","531017600","515729674","266112301","441941366","505409922","67005915","432566693","411359114","306067528","490464495","332003063","35464377","40214810","47888594","49086068","21651677","22410848","440174684","364652455","459304608","26990413","339777338","492888437","37367555","301686361","372545759","422359016","49883412","445080869","321186130","484841057","22473004","446287507","491348842","22756665","21198102","526859777","476471686","506090647","486797502","50164091","599006499","427686409","538644981","52934820","46678727","25991975","46312145","23533723","446904760","366378302","462106119","505685238","474027971","371309278","386043005","36136015","292021198","370018562","528256887","374789715","342870491","68270224","344944101","361318683","67424446","39430519","368726302","479064806","53154734","326057019","29376753","524412437","427194215","476992345","534421559","410866286","584943987","353051794","26231801","404976613","20461388","63488092","53269382","59295509","580194787","282559099","55951191","481797467","26348231","441030340","322050227","30905282","30232938","461737153","491138502","429875704","454857838","431693677","476140990","456920592","47626192","19786421","333558440","266853136","26558069","431990082","357202617","277871123","420706004","315441824","453552013","295281527","596336458","461826854","359389500","525826074","477109000","442483884","378611087","35296900","361689166","20211775","476437145","340816487","480683441","575565463","329856766","493728987","67857745","310005987","563755988","65240792","462844792","582612036","26043589","267068346","339191026","280310783","339468902","529558441","30892022","405107568","417831997","409516221","518215005","268397869","527220406","598680372","277520700","421179132","63618690","55577685","322035828","450150212","306299265","364278991","407390090","544925729","26830927","31430857","597278109","30358335","299919301","312614231","37216568","372310127","292234573","266045050","530441532","68568585","509605612","340395561","286789404","436311573","580079912","273850732","377829905","519688665","63736366","57400585","20347924","65323341","295260123","514885438","520440107","584159663","490766338","25313357","537355084","30118550","606839741","537629073","27956708","36633349","404971436","541334225","477862855","579637923","21898142","469640757","584264827","487232884","395817047","32187854","358823653","382592739","437536995","281538336","572267681","28434086","485257601","569287509","306260386","454883955","289064871","516071350","29040156","334320961","414833195","373174735","340554718","284946431","35830484","612748998","537516720","511884547","282290854","300989157","299806452","498739472","546028201","20130076","542154950","382946508","20672323","291868872","411106156","559701204","22012673","446501754","357831859","609225873","49175047","403528526","314360183","45539087","20219146","457789683","599840920","295500718","383561154","580351747","442661124","337381915","25709807","523622136","337720729","439374920","509793950","415325104","532565300","512566930","290210695","538669726","404593166","510209925","54171973","520443553","39397012","357236971","446102615","497448587","369479614","46985201","61040602","451397255","49814501","592057539","520413627","479574729","461832629","439007068","62947975","21094062","418938183","387108068","487125601","427092477","265669822","391381379","19773635","285337721","566499801","365209482","495890325","486276928","31547705","427835511","527865669","51920236","61917117","483196057","475548160","514643032","62939148","512885880","533227330","60414876","529035099","22425957","334929092","47931678","279494432","311270183","492048224","290950417","483302810","25283685","301989751","520851651","57305387","20181715","67031660","324157221","301337844","466019936","264225190","469839099","20459771","611664445","36809878","54358145","63754268","581951728","309476838","269430835","36542550","296491882","491227616","428946001","525852474","286902593","292628813","363386187","334631107","415627990","64329866","23706481","57128988","398881228","295808879","559892136","24609132","60549421","67208412","546299830","548133455","301922183","527084204","594674044","528863353","29771349","20369808","25105683","497908365","461619116","328519725","352863000","24037357","24387783","393362763","286883942","339903474","400950208","438560883","595857980","455439504","30075006","314060974","425645575","575956900","538672607","539193450","434546026","450299775","451652395","418626713","265781540","27835985","27173089","270697953","42930533","315812389","374206957","481997345","322681607","435074382","481140692","466440689","578183401","305120241","21725436","320753283","24176649","501630343","42862899","531850159","437620566","36068503","454856802","434424393","566021147","47735810","61674332","28519362","58578461","59688826","467064287","21842465","602900874","28237252","351847109","340084574","328456340","577887146","317910715","326888457","324071465","462978457","538149008","283653904","290789331","52282118","32221408","363258752","39415806","487161427","309497049","29286533","515343901","441760469","448903205","42885846","456392677","37362377","55861303","348115911","361764673","460763966","35096502","397693376","31081412","597870590","464439650","488434281","318961106","289137075","19934954","538924610","266950585","330807220","31099380","469777919","429111781","268838012","305580495","368865753","27792599","391845138","443062080","471085433","306483592","517963071","449564370","316332495","21203204","344182209","582184183","408220799","481452682","293671533","302529907","280538680","40976458","393561378","25987306","285915264","456143904","445574927","327377077","42232221","47529751","24629154","526673053","421718426","565398646","25285116","380319669","321838813","28015950","278517513","20526294","405475833","21121791","53235450","582144062","50956851","495917317","52116768","368164191","21313998","271656979","474707997","538577558","265792786","34012296","66635068","597242225","522913097","51878375","500094180","603631902","431860037","433701319","538519305","301047922","598531513","29493234","26124264","279177378","68141806","31254414","504215688","455085932","35707386","39320638","404932352","443024919","534651190","452478854","323623724","619222138","31841633","504277038","382441872","508098348","31288929","489874643","571232118","24761742","455384898","442693080","554163267","447013765","579033383","374688552","548174618","296288691","507329233","469032756","26501482","304644189","440268067","307237785","21538075","435379589","524805873","22005771","373438058","48365574","545557461","66045872","21809155","554625628","386387920","580799454","315184205","31286644","31535355","282491768","350647756","55136318","54598335","51398954","509519689","492793774","280208013","358282702","518187725","422878293","533077858","28049700","360115613","56947489","264269610","308306943","405325182","460031319","508643963","451418782","57197744","47907486","366940333","36595690","464396059","366584907","34855399","375342233","619222263","569657464","49011925","430078256","68513740","378749904","46653603","440071391","461721350","278722568","587874400","281324063","467382262","396020948","430845203","40925740","479695563","428538921","606306154","42770355","340304301","410054675","512791872","436088613","49077145","345709047","433134276","461283909","384270669","419100363","362111982","588384427","34588845","38000167","452591718","537335648","21665404","412567840","31643275","28080417","23808112","330759826","60121555","573469145","376084543","19619335","269574682","64333598","380767748","27166552","288331630","420319231","276080415","379720895","312059590","264719425","21175593","27691605","454703059","526609714","502698345","467907160","47271325","301176013","443578778","476818167","295083129","497442094","604771008","591224932","484837179","40100366","343551412","59526163","318298425","460905125","280466094","369753146","436832443","325630788","517066842","492102490","490882165","295867427","358296655","459928643","54050459","298751285","467335047","507238304","490597195","565274348","552186243","278564198","54773943","487649558","377430720","440317595","395274298","384113553","309101993","37758980","342907499","320246945","40938654","309519308","336786609","271586419","271973849","356365002","301877770","379518870","447359200","571307116","387512401","290203484","27920416","516732805","384621637","58724643","582669303","530827525","459895976","58502157","338577321","31657473","26699139","31062548","62588643","24841113","37240878","31723755","35907215","440980816","357685643","534999576","311740376","471712250","384010125","547211440","600324329","606161484","336603641","40669780","323523711","26612611","22566143","316817731","447271507","497676543","533452812","578842409","309424155","353356282","511819812","521126392","29067355","451839128","394523535","50260939","308340451","432609576","426858658","53828383","604716287","510624294","463701253","518385666","582922931","34637732","31092513","34523296","597826947","45739130","328315856","487274527","363145321","457613176","25148113","579496208","26842420","27921429","41388812","603277290","390953417","48275821","486603982","67145184","59380516","502782484","433993084","460120556","479304303","580656532","406314209"];
var index = 0;
function get(qid) {
    console.log("get "+qid +" start");
    var url = 'https://www.zhihu.com/question/' + qid;
    fetch(url)
        .then((response) => response.text())
        .then((text) => {
            var doc = initJSON(text);
            var data = doc.querySelector("#js-initialData");
            var j = JSON.parse(data.text);
            console.log(j);

            var initialState = j.initialState;
            var entities = initialState.entities;
            var questions = entities.questions[qid];
            var entity = {};
            entity.qid = questions.id;
            entity.title = questions.title;
            entity.created = questions.created;
            entity.updatedTime = questions.updatedTime;

            entity.answerCount = questions.answerCount;
            entity.visitCount = questions.visitCount;
            entity.commentCount = questions.commentCount;
            entity.followerCount = questions.followerCount;
            // console.log(entity);
            entity.answers = [];
            var answers = entities.answers;
            //根据key 遍历 js object
            Object.keys(answers).forEach(key => {
                var answer = answers[key];
                var an = {};
                an.name = answer.author.name;
                an.voteupCount = answer.voteupCount;
                an.createdTime = answer.createdTime;// "createdTime": 1558767139,
                an.updatedTime = answer.updatedTime;// "createdTime": 1558767139,
                // console.log(an);
                entity.answers.push(an);
            });

            console.log(entity);

            // 创建一个Blob对象
            let blob = new Blob([JSON.stringify(entity)], {type: "application/json"});

            // 生成下载链接
            let downloadLink = document.createElement("a");
            downloadLink.href = URL.createObjectURL(blob);
            downloadLink.download = qid + ".json";
            downloadLink.click();
        });

    console.log("get " + qid + " end");
}


function initJSON(str) {
    var parser = new DOMParser();
    var doc = parser.parseFromString(str, 'text/html');
    return doc;
}


setInterval(function () {
    console.log("index="+index, "qids.length="+qids.length)
    if (index < qids.length) {
        console.log("index="+index)
        let qid = qids[index];
        get(qid);
        index++;
    }
}, 5 * 1000);